<!DOCTYPE html>
<html>
  <head>
    <title>01-对方法的能力进行检查.html</title>
    <meta charset="utf-8"/>
  </head>
  <body>
    
  </body>
  <script>
    // 对方法的能力进行检查, 首先看是否有该方法, 第二看自己构造一个情节, 让方法调用
    // 看是否符合要求

    document.body.__proto__.__proto__.getElementsByClassName = function ( node ) {
      // 什么都不做
    };

    //设置一个空的对象
    var support = {};

    // 以 getElementsByClassName 为例
    //设置support 的 getElementsByClassName  是一个自调用的函数
    support.getElementsByClassName = (function () {
        //动态创建 div元素
      var div = document.createElement( 'div' );
      // 验证该方法是否可用
      if ( typeof document.getElementsByClassName === 'function' ) { //判断他是否是一个方法
        // 证明他是一个方法
        //在创建的div中添加了一个子元素div  class为“c”；
        div.innerHTML = '<div class="c"></div>';   // 准备一个 标签结构
        //获取这个class为c的div 用变量 res 保存
        var res = div.getElementsByClassName( 'c' ); // 调用方法以后, 看是否可以完成要的功能
        //判断  有class为c的div 并且长度=1，以及 div的类名的第0项=“c”   就返回  true
        //说明此方法可用
        if ( res && res.length === 1 && res[ 0 ].className === 'c' ) {
          return true;
        }
      }
      //不是  返回false
      return false;
    }) ();


    var _ = 0;

  </script>
</html>